{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Escritorio\\\\template\\\\react-peliculas\\\\src\\\\peliculas\\\\FormularioPeliculas.tsx\",\n  _s = $RefreshSig$();\nimport { Form, Formik } from \"formik\";\nimport * as Yup from 'yup';\nimport FormGroupText from \"utils/FormGroupText\";\nimport Button from \"utils/Button\";\nimport { Link } from \"react-router-dom\";\nimport SelectorMultiple from \"utils/SelectorMultiple\";\nimport { useState } from \"react\";\nimport TypeAheadActores from \"actores/TypeAheadActores\";\nimport css from './FormularioPeliculas.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function FormularioPeliculas(props) {\n  _s();\n  const [generosSeleccionados, setGenerosSeleccionados] = useState(mapear(props.generosSeleccionados));\n  const [generosNoSeleccionados, setGenerosNoSeleccionados] = useState(mapear(props.generosNoSeleccionados));\n  const [cinesSeleccionados, setCinesSeleccionados] = useState(mapear(props.cinesSeleccionados));\n  const [cinesNoSeleccionados, setCinesNoSeleccionados] = useState(mapear(props.cinesNoSeleccionados));\n  const [actoresSeleccionados, setActoresSeleccionados] = useState(props.actoresSeleccionados);\n  function mapear(arreglo) {\n    return arreglo.map(valor => {\n      return {\n        llave: valor.id,\n        valor: valor.nombre\n      };\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: props.modelo,\n    onSubmit: (valores, acciones) => {\n      props.onSubmit(valores, acciones);\n    },\n    validationSchema: Yup.object({\n      titulo: Yup.string().required('Este campo es requerido').primeraLetraMayuscula()\n    }),\n    children: formikProps => /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(FormGroupText, {\n        label: \"T\\xEDtulo\",\n        campo: \"titulo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FormGroupText, {\n        label: \"Clasificacion\",\n        campo: \"clasificacion\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.div,\n        children: [/*#__PURE__*/_jsxDEV(FormGroupText, {\n          label: \"Criterio\",\n          campo: \"criterio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormGroupText, {\n          label: \"Insatisfactorio\",\n          campo: \"insatisfactorio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormGroupText, {\n          label: \"En Desarrollo\",\n          campo: \"desarrollo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormGroupText, {\n          label: \"Satisfactorio\",\n          campo: \"satisfactorio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormGroupText, {\n          label: \"Ejemplar\",\n          campo: \"ejemplar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"G\\xE9neros:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(SelectorMultiple, {\n          seleccionados: generosSeleccionados,\n          noSeleccionados: generosNoSeleccionados,\n          onChange: (seleccionados, noSeleccionados) => {\n            setGenerosSeleccionados(seleccionados);\n            setGenerosNoSeleccionados(noSeleccionados);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Cines:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(SelectorMultiple, {\n          seleccionados: cinesSeleccionados,\n          noSeleccionados: cinesNoSeleccionados,\n          onChange: (seleccionados, noSeleccionados) => {\n            setCinesSeleccionados(seleccionados);\n            setCinesNoSeleccionados(noSeleccionados);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(TypeAheadActores, {\n          onAdd: actores => {\n            setActoresSeleccionados(actores);\n          },\n          onRemove: actor => {\n            const actores = actoresSeleccionados.filter(x => x !== actor);\n            setActoresSeleccionados(actores);\n          },\n          actores: actoresSeleccionados,\n          listadoUI: actor => /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [actor.nombre, \" / \", /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Personaje\",\n              type: \"text\",\n              value: actor.personaje,\n              onChange: e => {\n                const indice = actoresSeleccionados.findIndex(x => x.id === actor.id);\n                const actores = [...actoresSeleccionados];\n                actores[indice].personaje = e.currentTarget.value;\n                setActoresSeleccionados(actores);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 54\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        disabled: formikProps.isSubmitting,\n        type: \"submit\",\n        children: \"Enviar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-secondary\",\n        to: \"/\",\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n_s(FormularioPeliculas, \"3WTwqunC8f8/AcLsfyTR8eZ8HGs=\");\n_c = FormularioPeliculas;\nvar _c;\n$RefreshReg$(_c, \"FormularioPeliculas\");","map":{"version":3,"names":["Form","Formik","Yup","FormGroupText","Button","Link","SelectorMultiple","useState","TypeAheadActores","css","FormularioPeliculas","props","generosSeleccionados","setGenerosSeleccionados","mapear","generosNoSeleccionados","setGenerosNoSeleccionados","cinesSeleccionados","setCinesSeleccionados","cinesNoSeleccionados","setCinesNoSeleccionados","actoresSeleccionados","setActoresSeleccionados","arreglo","map","valor","llave","id","nombre","modelo","valores","acciones","onSubmit","object","titulo","string","required","primeraLetraMayuscula","formikProps","div","seleccionados","noSeleccionados","actores","actor","filter","x","personaje","e","indice","findIndex","currentTarget","value","isSubmitting"],"sources":["C:/Users/USER/OneDrive/Escritorio/template/react-peliculas/src/peliculas/FormularioPeliculas.tsx"],"sourcesContent":["import { Form, Formik, FormikHelpers } from \"formik\";\r\nimport { peliculaCreacionDTO } from \"./peliculas.model\";\r\nimport * as Yup from 'yup'\r\nimport FormGroupText from \"utils/FormGroupText\";\r\nimport FormGroupCheckbox from \"utils/FormGroupCheckbox\";\r\nimport FormGroupFecha from \"utils/FormGroupFecha\";\r\nimport FormGroupImagen from \"utils/FormGroupImagen\";\r\nimport Button from \"utils/Button\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SelectorMultiple, { selectorMultipleModel } from \"utils/SelectorMultiple\";\r\nimport { generoDTO } from \"generos/generos.model\";\r\nimport { useState } from \"react\";\r\nimport { cineDTO } from \"cines/cines.model\";\r\nimport TypeAheadActores from \"actores/TypeAheadActores\";\r\nimport { actorPeliculaDTO } from \"actores/actores.model\";\r\nimport css from './FormularioPeliculas.module.css'\r\n\r\nexport default function FormularioPeliculas(props: formularioPeliculasProps) {\r\n    const [generosSeleccionados, setGenerosSeleccionados] = \r\n    useState(mapear(props.generosSeleccionados));\r\n    const [generosNoSeleccionados, setGenerosNoSeleccionados] = \r\n    useState(mapear(props.generosNoSeleccionados));\r\n\r\n    const [cinesSeleccionados, setCinesSeleccionados] =\r\n    useState(mapear(props.cinesSeleccionados));\r\n    const [cinesNoSeleccionados, setCinesNoSeleccionados] =\r\n    useState(mapear(props.cinesNoSeleccionados));\r\n\r\n    const [actoresSeleccionados, setActoresSeleccionados] = \r\n    useState<actorPeliculaDTO[]>(props.actoresSeleccionados)\r\n    \r\n    function mapear(arreglo: {id: number, nombre: string}[]): selectorMultipleModel[]{\r\n        return arreglo.map(valor => {\r\n            return {llave: valor.id, valor: valor.nombre}\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={props.modelo}\r\n            onSubmit={(valores, acciones) => {\r\n                \r\n                props.onSubmit(valores, acciones);\r\n            }}\r\n            validationSchema={Yup.object({\r\n                titulo: Yup.string().required('Este campo es requerido').primeraLetraMayuscula()\r\n            })}\r\n        >\r\n            {formikProps => (\r\n                \r\n                <Form>\r\n                    <FormGroupText label=\"Título\" campo=\"titulo\" />\r\n                    <FormGroupText label=\"Clasificacion\" campo=\"clasificacion\" />\r\n                    <div className={css.div}>\r\n                    <FormGroupText label=\"Criterio\" campo=\"criterio\" />\r\n                    <FormGroupText label=\"Insatisfactorio\" campo=\"insatisfactorio\" />\r\n                    <FormGroupText label=\"En Desarrollo\" campo=\"desarrollo\" />\r\n                    <FormGroupText label=\"Satisfactorio\"  campo=\"satisfactorio\" />\r\n                    <FormGroupText label=\"Ejemplar\"  campo=\"ejemplar\"  />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Géneros:</label>\r\n                        <SelectorMultiple seleccionados={generosSeleccionados}\r\n                            noSeleccionados={generosNoSeleccionados}\r\n                            onChange={(seleccionados, noSeleccionados) => {\r\n                                setGenerosSeleccionados(seleccionados)\r\n                                setGenerosNoSeleccionados(noSeleccionados);\r\n                            }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label>Cines:</label>\r\n                        <SelectorMultiple seleccionados={cinesSeleccionados}\r\n                            noSeleccionados={cinesNoSeleccionados}\r\n                            onChange={(seleccionados, noSeleccionados) => {\r\n                                setCinesSeleccionados(seleccionados)\r\n                                setCinesNoSeleccionados(noSeleccionados);\r\n                            }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                            <TypeAheadActores \r\n                                onAdd={actores => {\r\n                                    setActoresSeleccionados(actores);\r\n                                }}\r\n                                onRemove={actor => {\r\n                                    const actores = actoresSeleccionados.filter(x => x !== actor);\r\n                                    setActoresSeleccionados(actores);\r\n                                }}\r\n                                actores={actoresSeleccionados}\r\n                                listadoUI={(actor: actorPeliculaDTO) => \r\n                                <>\r\n                                    {actor.nombre} / <input placeholder=\"Personaje\" \r\n                                    type=\"text\" value={actor.personaje} \r\n                                    onChange={e => {\r\n                                        const indice = actoresSeleccionados\r\n                                        .findIndex(x => x.id === actor.id);\r\n\r\n                                        const actores = [...actoresSeleccionados];\r\n                                        actores[indice].personaje = e.currentTarget.value;\r\n                                        setActoresSeleccionados(actores);\r\n                                    }}\r\n                                    />\r\n                                </>}\r\n                            />\r\n                    </div>\r\n\r\n                    <Button disabled={formikProps.isSubmitting} type=\"submit\">Enviar</Button>\r\n                    <Link className=\"btn btn-secondary\" to=\"/\">Cancelar</Link>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\ninterface formularioPeliculasProps {\r\n    modelo: peliculaCreacionDTO;\r\n    onSubmit(valores: peliculaCreacionDTO, acciones: FormikHelpers<peliculaCreacionDTO>): void;\r\n    generosSeleccionados: generoDTO[];\r\n    generosNoSeleccionados: generoDTO[];\r\n    cinesSeleccionados: cineDTO[];\r\n    cinesNoSeleccionados: cineDTO[];\r\n    actoresSeleccionados: actorPeliculaDTO[];\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}